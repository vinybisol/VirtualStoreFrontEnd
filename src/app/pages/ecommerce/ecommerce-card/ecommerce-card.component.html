<app-ecommerce-header></app-ecommerce-header>
<div *ngIf="loading">
  <app-mat-spinner-overlay></app-mat-spinner-overlay>
</div>

<mat-grid-list
  class="container"
  [cols]="breakpoint"
  rowHeight="450px"
  (window:resize)="onResize($event)"
>
  <mat-grid-tile *ngFor="let product of products">
    <mat-card class="example-card">
      <mat-card-title class="card-title">{{ product.name }}</mat-card-title>
      <mat-card-subtitle>{{ product.name }}</mat-card-subtitle>

      <img
        mat-card-image
        src="{{ 'data:image/jpg;base64,' + imagePath }}"
        alt="Photo of a Shiba Inu"
      />

      <mat-card-title>
        {{ product.price | currency : "BRL" }}
      </mat-card-title>
      {{ product.priceMarket | currency : "BRL" }}

      <small>valor de mercado</small>

      <mat-card-content>
        {{ product.note }}
      </mat-card-content>

      <mat-card-actions>
        <button
          mat-raised-button
          [disabled]="product.inCart"
          (click)="addInCartShopping(product)"
          color="primary"
        >
          {{ product.inCart ? "No Carrinho" : "Comprar" }}
        </button>
      </mat-card-actions>
    </mat-card>
  </mat-grid-tile>
</mat-grid-list>
